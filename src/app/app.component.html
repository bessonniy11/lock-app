<StackLayout>
    <Label text="Floating Widget Demo" class="text-center h1" style="font-size: 24; margin: 20 0 10 0;"></Label>
    
    <StackLayout orientation="horizontal" horizontalAlignment="center" margin="0 0 20 0">
        <!-- Показываем кнопку "Создать виджет" только если нет активного виджета -->
        <Button *ngIf="!hasWidget" text="Создать виджет" (tap)="showFloatingWidget()" margin="10" [isEnabled]="!isLoading" style="background-color: #3F51B5; color: white;"></Button>
        
        <!-- Показываем кнопку "Удалить виджет" только если есть активный виджет -->
        <!-- <Button *ngIf="hasWidget" text="Удалить виджет" (tap)="hideFloatingWidget()" margin="10" [isEnabled]="!isLoading" style="background-color: #F44336; color: white;"></Button> -->
    </StackLayout>
    
    <!-- Состояние и сообщения -->
    <StackLayout *ngIf="isLoading" horizontalAlignment="center" margin="10">
        <ActivityIndicator busy="true" width="50" height="50"></ActivityIndicator>
        <Label text="Загрузка..." horizontalAlignment="center" margin="10"></Label>
    </StackLayout>
    
    <StackLayout *ngIf="message" margin="10" padding="10" borderRadius="5" backgroundColor="#E3F2FD">
        <Label [text]="message" textWrap="true" horizontalAlignment="center"></Label>
    </StackLayout>
    
    <Label text="Нажмите 'Создать виджет' чтобы отобразить плавающий виджет, который можно перемещать по экрану." textWrap="true" margin="20 10 0 10" style="text-align: center; font-size: 16;"></Label>
    
    <Label text="Если это первый запуск, приложение запросит разрешение на отображение поверх других приложений." textWrap="true" margin="10 5 0 5" style="text-align: center; font-size: 22; color: #484848;"></Label>
    
    <Label text="Для удаления виджета переместите его в верхнюю часть экрана" textWrap="true" margin="20 10 0 10" style="text-align: center; font-size: 14; font-weight: 600; color: #6e2323;"></Label>
</StackLayout>
